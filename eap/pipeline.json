{
    "kind": "List",
    "apiVersion": "v1",
    "metadata": {},
    "items": [{
        "kind": "BuildConfig",
        "apiVersion": "v1",
        "metadata": {
            "name": "eap-pipeline-master",
            "labels": {
                "app": "eap-integration"
            },
            "annotations": {
                "pipeline.alpha.openshift.io/uses": "[{\"name\": \"master\", \"namespace\": \"\", \"kind\": \"DeploymentConfig\"}]"
            }
        },
        "spec": {
            "triggers": [{
                "type": "GitHub",
                "github": {
                    "secret": "EgXVqyOOobmMzjVzQHSh"
                }
            }, {
                "type": "Generic",
                "generic": {
                    "secret": "bz6uJc9u-0-58EoYKgL3"
                }
            }],
            "strategy": {
                "type": "JenkinsPipeline",
                "jenkinsPipelineStrategy": {
                    "jenkinsfile": "node {\nstage 'build'\nopenshiftBuild(buildConfig: 'master', showBuildLogs: 'true')\nstage 'deploy integration'\nopenshiftVerifyDeployment(deploymentConfig: 'master')\nstage 'test integration'\nsh 'curl -i -s http://master-eap-integration.rhcloud.example.com/rest/json | head -1 |grep 200; exit $?'\nstage 'promote to uat'\nopenshiftTag(alias: 'false', apiURL: '', authToken: '', destStream: 'helloworld', destTag: 'master', destinationAuthToken: '', destinationNamespace: 'eap-uat', namespace: 'eap-integration', srcStream: 'master', srcTag: 'latest', verbose: 'false')\nopenshiftTag(alias: 'false', apiURL: '', authToken: '', destStream: 'helloworld', destTag: 'latest', destinationAuthToken: '', destinationNamespace: 'eap-uat', namespace: 'eap-uat', srcStream: 'helloworld', srcTag: 'master', verbose: 'false')\nstage 'deploy uat'\nopenshiftVerifyDeployment(namespace: 'eap-uat', deploymentConfig: 'helloworld')\nopenshiftScale(namespace: 'eap-uat', deploymentConfig: 'helloworld',replicaCount: '2')\nstage 'test uat'\nsh 'curl -i -s http://helloworld-eap-uat.rhcloud.example.com/rest/json | head -1 |grep 200; exit $?'\nstage 'promote to production'\nopenshiftTag(alias: 'false', apiURL: '', authToken: '', destStream: 'helloworld', destTag: 'master', destinationAuthToken: '', destinationNamespace: 'eap-production', namespace: 'eap-uat', srcStream: 'helloworld', srcTag: 'master', verbose: 'false')\nopenshiftTag(alias: 'false', apiURL: '', authToken: '', destStream: 'blue', destTag: 'latest', destinationAuthToken: '', destinationNamespace: 'eap-production', namespace: 'eap-production', srcStream: 'helloworld', srcTag: 'master', verbose: 'false')\nstage 'deploy production'\nopenshiftVerifyDeployment(namespace: 'eap-production', deploymentConfig: 'blue')\nopenshiftScale(namespace: 'eap-production', deploymentConfig: 'blue', replicaCount: '2')\n}"
                }
            }
        }
    }, {
        "kind": "BuildConfig",
        "apiVersion": "v1",
        "metadata": {
            "name": "eap-pipeline-v2",
            "labels": {
                "app": "eap-integration"
            },
            "annotations": {
                "pipeline.alpha.openshift.io/uses": "[{\"name\": \"v2\", \"namespace\": \"\", \"kind\": \"DeploymentConfig\"}]"
            }
        },
        "spec": {
            "triggers": [{
                "type": "GitHub",
                "github": {
                    "secret": "EgXVqyOOobmMzjVzQHSh"
                }
            }, {
                "type": "Generic",
                "generic": {
                    "secret": "bz6uJc9u-0-58EoYKgL3"
                }
            }],
            "strategy": {
                "type": "JenkinsPipeline",
                "jenkinsPipelineStrategy": {
                    "jenkinsfile": "node {\nstage 'build'\nopenshiftBuild(buildConfig: 'v2', showBuildLogs: 'true')\nstage 'deploy integration'\nopenshiftVerifyDeployment(deploymentConfig: 'v2')\nstage 'test integration'\nsh 'curl -i -s http://v2-eap-integration.rhcloud.example.com/rest/json | head -1 |grep 200; exit $?'\nstage 'promote to uat'\nopenshiftTag(alias: 'false', apiURL: '', authToken: '', destStream: 'helloworld', destTag: 'v2', destinationAuthToken: '', destinationNamespace: 'eap-uat', namespace: 'eap-integration', srcStream: 'v2', srcTag: 'latest', verbose: 'false')\nopenshiftTag(alias: 'false', apiURL: '', authToken: '', destStream: 'helloworld', destTag: 'latest', destinationAuthToken: '', destinationNamespace: 'eap-uat', namespace: 'eap-uat', srcStream: 'helloworld', srcTag: 'v2', verbose: 'false')\nstage 'deploy uat'\nopenshiftVerifyDeployment(namespace: 'eap-uat', deploymentConfig: 'helloworld')\nopenshiftScale(namespace: 'eap-uat', deploymentConfig: 'helloworld',replicaCount: '2')\nstage 'test uat'\nsh 'curl -i -s http://helloworld-eap-uat.rhcloud.example.com/rest/json | head -1 |grep 200; exit $?'\nstage 'promote to production'\nopenshiftTag(alias: 'false', apiURL: '', authToken: '', destStream: 'helloworld', destTag: 'v2', destinationAuthToken: '', destinationNamespace: 'eap-production', namespace: 'eap-uat', srcStream: 'helloworld', srcTag: 'v2', verbose: 'false')\nopenshiftTag(alias: 'false', apiURL: '', authToken: '', destStream: 'green', destTag: 'latest', destinationAuthToken: '', destinationNamespace: 'eap-production', namespace: 'eap-production', srcStream: 'helloworld', srcTag: 'v2', verbose: 'false')\nstage 'deploy production'\nopenshiftVerifyDeployment(namespace: 'eap-production', deploymentConfig: 'green')\nopenshiftScale(namespace: 'eap-production', deploymentConfig: 'green', replicaCount: '2')\n}"
                }
            }
        }
    }]
}